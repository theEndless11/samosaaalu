{"version":3,"sources":["upload.js"],"names":["multer","require","path","diskStorage","destination","req","file","cb","Date","now","extname","originalname","upload","storage","module","exports","res","single","err","status","json","error","mediaUrl","concat","filename"],"mappings":"aACA,IAAMA,OAASC,QAAQ,UADvBC,KAAAD,QAAA,QAEMC,QAAOD,OAAQE,YAErB,CAEIC,YAAa,SAACC,EAAKC,EAAMC,GACrBA,EAAG,KAAM,aADbH,SAAW,SAAEC,EAAAC,EAAAC,GACNA,EAAD,KAAOC,KAAAC,MAATP,KAAAQ,QAAAJ,EAAAK,kBAGEC,OAAOJ,OAAA,CAAAK,QAAkBH,UALAI,OAAnCC,QAAA,SAAAV,EAAAW,GAQMJ,OAAMK,OAAGjB,OAATY,CAAgBP,EAAAW,EAAA,SAAAE,GAAEL,GAASA,EAAjC,OAAAG,EAAAG,OAAA,KAAAC,KAAA,CAAAC,MAAA,uBAEON,IAAPO,EAAiB,YAAAC,OAAclB,EAAAC,KAAAkB,UACrBR,EAACC,OAAO,KAAQZ,KAAKW,CAAAA,SAAAA","file":"upload.min.js","sourcesContent":["// api/upload.js\r\nconst multer = require('multer');\r\nconst path = require('path');\r\n\r\n// Multer setup for file uploads\r\nconst storage = multer.diskStorage({\r\n    destination: (req, file, cb) => {\r\n        cb(null, 'uploads/');\r\n    },\r\n    filename: (req, file, cb) => {\r\n        cb(null, Date.now() + path.extname(file.originalname));\r\n    }\r\n});\r\nconst upload = multer({ storage: storage });\r\n\r\nmodule.exports = (req, res) => {\r\n    upload.single('file')(req, res, (err) => {\r\n        if (err) {\r\n            return res.status(400).json({ error: 'File upload failed' });\r\n        }\r\n        const mediaUrl = `/uploads/${req.file.filename}`; // Adjust based on your file storage configuration\r\n        res.status(200).json({ mediaUrl });\r\n    });\r\n};\r\n"]}