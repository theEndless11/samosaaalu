{"version":3,"sources":["upload.js"],"names":["multer","require","path","storage","diskStorage","destination","req","file","cb","filename","Date","now","extname","originalname","upload","module","exports","res","single","err","status","json","error","mediaUrl"],"mappings":";;AAAA;AACA,IAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB,C,CAEA;;;AACA,IAAME,OAAO,GAAGH,MAAM,CAACI,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAE,qBAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAmB;AAC5BA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACH,GAH8B;AAI/BC,EAAAA,QAAQ,EAAE,kBAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAmB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAOE,IAAI,CAACC,GAAL,KAAaT,IAAI,CAACU,OAAL,CAAaL,IAAI,CAACM,YAAlB,CAApB,CAAF;AACH;AAN8B,CAAnB,CAAhB;AAQA,IAAMC,MAAM,GAAGd,MAAM,CAAC;AAAEG,EAAAA,OAAO,EAAEA;AAAX,CAAD,CAArB;;AAEAY,MAAM,CAACC,OAAP,GAAiB,UAACV,GAAD,EAAMW,GAAN,EAAc;AAC3BH,EAAAA,MAAM,CAACI,MAAP,CAAc,MAAd,EAAsBZ,GAAtB,EAA2BW,GAA3B,EAAgC,UAACE,GAAD,EAAS;AACrC,QAAIA,GAAJ,EAAS;AACL,aAAOF,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAArB,CAAP;AACH;;AACD,QAAMC,QAAQ,sBAAejB,GAAG,CAACC,IAAJ,CAASE,QAAxB,CAAd,CAJqC,CAIa;;AAClDQ,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEE,MAAAA,QAAQ,EAARA;AAAF,KAArB;AACH,GAND;AAOH,CARD","sourcesContent":["// api/upload.js\r\nconst multer = require('multer');\r\nconst path = require('path');\r\n\r\n// Multer setup for file uploads\r\nconst storage = multer.diskStorage({\r\n    destination: (req, file, cb) => {\r\n        cb(null, 'uploads/');\r\n    },\r\n    filename: (req, file, cb) => {\r\n        cb(null, Date.now() + path.extname(file.originalname));\r\n    }\r\n});\r\nconst upload = multer({ storage: storage });\r\n\r\nmodule.exports = (req, res) => {\r\n    upload.single('file')(req, res, (err) => {\r\n        if (err) {\r\n            return res.status(400).json({ error: 'File upload failed' });\r\n        }\r\n        const mediaUrl = `/uploads/${req.file.filename}`; // Adjust based on your file storage configuration\r\n        res.status(200).json({ mediaUrl });\r\n    });\r\n};\r\n"],"file":"upload.dev.js"}