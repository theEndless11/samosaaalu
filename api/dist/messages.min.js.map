{"version":3,"sources":["messages.js"],"names":["mongoose","require","Message","module","exports","req","res","messages","regeneratorRuntime","async","_context","prev","next","method","awrap","find","sort","timestamp","sent","status","json","t0","console","error","stop"],"mappings":"aACA,IAAMA,SAAWC,QAAQ,YADzBC,QAAAD,QAAA,wBAIAE,OAAOC,QAAU,SAAOC,EAAKC,GAAZ,IAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,GAFO,QAAlBV,EAAOW,OAEI,OAAAH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAM,MAAOT,QAAPU,OAAAC,KAAA,CAAAC,UAAA,KAAAP,EAAAE,KAAA,GAAA,MAAA,KAAA,EAAAL,EAAAG,EAAAQ,KAAAZ,EAAAa,OAAA,KAAAC,KAAAb,GAAAG,EAAAE,KAAA,GAAA,MAAA,KAAA,EAAAF,EAAAC,KAAA,EAAAD,EAAAW,GAAAX,EAAA,MAAA,GAAAY,QAAAC,MAAA,2BAAAb,EAAAW,IAAAf,EAAAa,OAAA,KAAAC,KAAA,CAAAG,MAAA,4BAAA,KAAA,GAAAb,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAN,EAAAa,OAAA,KAAAC,KAAA,CAAAG,MAAA,uBAAA,KAAA,GAAA,IAAA,MAAA,OAAAb,EAAAc,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"messages.min.js","sourcesContent":["// api/messages.js\r\nconst mongoose = require('mongoose');\r\nconst Message = require('../../models/Message');\r\n\r\nmodule.exports = async (req, res) => {\r\n    if (req.method === 'GET') {\r\n        try {\r\n            const messages = await Message.find().sort({ timestamp: 1 });\r\n            res.status(200).json(messages);\r\n        } catch (error) {\r\n            console.error('Error fetching messages:', error);\r\n            res.status(500).json({ error: 'Error fetching messages' });\r\n        }\r\n    } else {\r\n        res.status(405).json({ error: 'Method Not Allowed' });\r\n    }\r\n};\r\n"]}